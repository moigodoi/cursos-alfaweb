(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["course-edit"],{4081:function(e,s,o){"use strict";o("ef38")},e781:function(e,s,o){"use strict";o.r(s);var t=function(){var e=this,s=e.$createElement,o=e._self._c||s;return o("div",[o("Navbar"),o("div",{staticClass:"edit-form"},[o("v-card",{attrs:{"max-width":"700",elevation:"5"}},[o("v-card-text",[o("v-container",[o("h4",{staticClass:"mb-6"},[e._v("Editando el Curso: "+e._s(e.course.nombre))]),o("v-form",{ref:"editForm",on:{submit:function(s){return s.preventDefault(),e.editCourse.apply(null,arguments)}}},[o("v-row",[o("v-col",{attrs:{cols:"12",md:"3"}},[o("v-text-field",{attrs:{disabled:e.loading,label:"Código",required:""},model:{value:e.course.codigo,callback:function(s){e.$set(e.course,"codigo",s)},expression:"course.codigo"}})],1),o("v-col",{attrs:{cols:"12",md:"9"}},[o("v-text-field",{attrs:{disabled:e.loading,label:"Nombre",required:""},model:{value:e.course.nombre,callback:function(s){e.$set(e.course,"nombre",s)},expression:"course.nombre"}})],1),o("v-col",{attrs:{cols:"12"}},[o("v-text-field",{attrs:{disabled:e.loading,label:"Descripción",required:""},model:{value:e.course.descripcion,callback:function(s){e.$set(e.course,"descripcion",s)},expression:"course.descripcion"}})],1),o("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[o("v-text-field",{attrs:{disabled:e.loading,type:"number",min:"0",max:"1000000",step:"10000",label:"Costo",required:"",prefix:"$"},model:{value:e.course.costo,callback:function(s){e.$set(e.course,"costo",s)},expression:"course.costo"}})],1),o("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[o("v-text-field",{attrs:{disabled:e.loading,type:"number",min:"0",label:"Cupos",required:""},model:{value:e.course.cupos,callback:function(s){e.$set(e.course,"cupos",s)},expression:"course.cupos"}})],1),!0===e.course.estado?o("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[o("v-text-field",{ref:"enrolledStudents",attrs:{disabled:e.loading,type:"number",min:"0",max:"0",label:"Inscritos",required:"",hint:"El curso se encuentra terminado, no hay más inscripciones"},model:{value:e.course.inscritos,callback:function(s){e.$set(e.course,"inscritos",s)},expression:"course.inscritos"}})],1):o("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[o("v-text-field",{attrs:{disabled:e.loading,type:"number",min:"0",label:"Inscritos",required:"",hint:"La cantidad de Inscritos no puede ser mayor a los cupos disponibles"},model:{value:e.course.inscritos,callback:function(s){e.$set(e.course,"inscritos",s)},expression:"course.inscritos"}})],1),o("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[o("v-text-field",{attrs:{disabled:e.loading,label:"Fecha",required:"",hint:"formato dd/mm/aaaa"},model:{value:e.course.fecha,callback:function(s){e.$set(e.course,"fecha",s)},expression:"course.fecha"}})],1),o("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[o("v-select",{attrs:{disabled:e.loading,items:["1 mes","2 meses","3 meses","4 meses","5 meses","6 meses"],label:"Duración",required:""},model:{value:e.course.duracion,callback:function(s){e.$set(e.course,"duracion",s)},expression:"course.duracion"}})],1),o("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[o("v-switch",{attrs:{disabled:e.loading,label:"Terminado",required:""},on:{change:e.onSwitchToggle},model:{value:e.course.estado,callback:function(s){e.$set(e.course,"estado",s)},expression:"course.estado"}})],1),o("v-col",{attrs:{cols:"12"}},[o("v-text-field",{attrs:{disabled:e.loading,label:"Imagen",required:"",hint:"Pega la URL de la imagen"},model:{value:e.course.imagen,callback:function(s){e.$set(e.course,"imagen",s)},expression:"course.imagen"}})],1)],1),o("v-card-actions",{staticClass:"mt-5 d-flex flex-row-reverse"},[o("div",{staticClass:"d-flex flex-row"},[o("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:function(s){return e.$router.push("/admin")}}},[e._v(" Regresar ")]),o("v-btn",{attrs:{disabled:!e.isComplete,color:"primary",type:"submit"}},[e._v(" Actualizar Datos Curso ")])],1)])],1)],1),o("p",{staticClass:"text-end mr-5"},[e._v("*Todos los campos son requeridos")])],1)],1)],1)],1)},r=[],i=o("5530"),a=o("2591"),c=o("d178"),n={components:{Navbar:c["a"]},beforeRouteEnter:function(e,s,o){a["a"].firestore().collection("curso").doc(e.params.id).get().then((function(e){o((function(s){s.course=Object(i["a"])({id:e.id},e.data())}))}))},data:function(){return{course:{},loading:!1}},methods:{editCourse:function(){var e=this;this.$refs.editForm.validate()&&(this.loading=!0,a["a"].firestore().collection("curso").doc(this.course.id).update(this.course).then((function(){e.$swal.fire({position:"top-end",title:"Curso editado ✔️",showConfirmButton:!1,timer:1500}),e.loading=!1,e.$store.dispatch("coursesModule/getAllCourses"),e.$router.push("/admin")})).catch((function(){e.loading=!1,e.$swal.fire({icon:"error",title:"Oops...",text:"Algo no funcionó 😕, intenta nuevamente"})})))},onSwitchToggle:function(){!0===this.course.estado&&(this.course.inscritos=0)}},computed:{isComplete:function(){return""!=this.course.codigo&&""!=this.course.nombre&&""!=this.course.descripcion&&""!=this.course.duracion&&""!=this.course.imagen&&""!=this.course.fecha&&parseInt(this.course.inscritos)<=parseInt(this.course.cupos)}}},l=n,d=(o("4081"),o("2877")),u=o("6544"),m=o.n(u),b=o("8336"),f=o("b0af"),p=o("99d9"),v=o("62ad"),h=o("a523"),g=o("4bd4"),x=o("0fd9b"),C=o("b974"),$=o("b73d"),w=o("8654"),k=Object(d["a"])(l,t,r,!1,null,null,null);s["default"]=k.exports;m()(k,{VBtn:b["a"],VCard:f["a"],VCardActions:p["a"],VCardText:p["b"],VCol:v["a"],VContainer:h["a"],VForm:g["a"],VRow:x["a"],VSelect:C["a"],VSwitch:$["a"],VTextField:w["a"]})},ef38:function(e,s,o){}}]);
//# sourceMappingURL=course-edit.6617d08d.js.map